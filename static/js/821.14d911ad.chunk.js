"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[821],{7821:(e,n,t)=>{t.r(n),t.d(n,{default:()=>V});var a=t(6253),r=t(9164),s=t(7621),l=t(8007),c=t(5705),o=t(9434),i=t(4554),m=t(8004),d=t(4294),u=t(3634);const h=e=>e.contacts,x=e=>e.contacts.items,j=e=>e.filter;var b=t(4227),p=t(184);const Z=l.Ry({name:l.Z_("Enter contact name").required("Name is required").max(16,"Max 16 characters for the name").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([ ' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name contains invalid characters"),number:l.Z_("Enter contact number").required("Contact number is required").max(20,"Max 20 characters for the number").matches(/\+?\d{1,4}?[ .\-\s]?\(?\d{1,3}?\)?[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,9}/,"Invalid phone number format.")}),f=()=>{const e=(0,o.I0)(),n=(0,o.v9)(x),t=(0,c.TA)({initialValues:{name:"",number:""},validationSchema:Z,onSubmit:a=>{const r=n.find((e=>e.name===a.name)),s=n.some((e=>e.number===a.number));if(r||s){const e="".concat(a.name," is already in contacts");(0,b.Z)("error",e)}else{e((0,u.uK)(a));const n="Contact ".concat(a.name," successfully created!");(0,b.Z)("success",n)}t.resetForm()}});return(0,p.jsxs)(i.Z,{component:"form",onSubmit:t.handleSubmit,children:[(0,p.jsx)(m.Z,{required:!0,fullWidth:!0,autoComplete:"name",id:"name",name:"name",label:"Contact Name",value:t.values.name,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.name&&Boolean(t.errors.name),helperText:t.touched.name&&t.errors.name,sx:{mb:2}}),(0,p.jsx)(m.Z,{required:!0,fullWidth:!0,autoComplete:"number",id:"number",name:"number",label:"Phone Number",value:t.values.number,onChange:t.handleChange,onBlur:t.handleBlur,error:t.touched.number&&Boolean(t.errors.number),helperText:t.touched.number&&t.errors.number,sx:{mb:2}}),(0,p.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})};var v=t(8029),C=t(1634);const g=()=>{const e=(0,o.I0)();return(0,p.jsx)(v.Z,{fullWidth:!0,type:"text",name:"filter",placeholder:"Search by name",onChange:n=>{const t=n.target.value;e((0,C.yC)(t))}})};var y=t(2791),_=t(5193),k=t(1889),w=t(493),S=t(4852),I=t(4721),P=t(5136),q=t(4289),N=t(653),T=t(3044),F=t(9900),W=t(43),A=t(1918),B=t(7247),E=t(1286),M=t(1398),G=t(4164);const z="Modal_backdrop__xTnIT",L="Modal_content__gGb69",Y=document.querySelector("#modal-root");class D extends y.Component{render(){return(0,G.createPortal)((0,p.jsx)("div",{className:z,children:(0,p.jsx)("div",{className:L,children:this.props.children})}),Y)}}const K=e=>{let{contact:{name:n,number:t,id:a}}=e;const r=(0,o.I0)(),[s,l]=(0,y.useState)(!1),[c,h]=(0,y.useState)(n),[x,j]=(0,y.useState)(t),[b,Z]=(0,y.useState)(!1);return(0,p.jsx)(p.Fragment,{children:s?(0,p.jsx)(p.Fragment,{children:!b&&(0,p.jsx)(D,{children:(0,p.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:[(0,p.jsx)(m.Z,{label:"Name",value:c,onChange:e=>h(e.target.value)}),(0,p.jsx)(m.Z,{label:"Number",value:x,onChange:e=>j(e.target.value)}),(0,p.jsx)(d.Z,{variant:"outlined",onClick:()=>l(!1),children:"Close"}),(0,p.jsx)(d.Z,{variant:"contained",onClick:()=>{r((0,u.mP)({id:a,name:c,number:x})),l(!1),Z((e=>!e))},children:"Save"})]})})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(i.Z,{sx:{display:"flex",alignItems:"space-between"},children:[(0,p.jsx)(N.Z,{children:(0,p.jsx)(T.Z,{...(0,M.Z)(n)})}),(0,p.jsx)(F.Z,{children:n})]}),(0,p.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,p.jsx)(W.Z,{href:"tel:".concat(t),children:t}),(0,p.jsx)(A.Z,{label:"Edit",icon:(0,p.jsx)(E.Z,{}),onClick:()=>l(!0)}),(0,p.jsx)(A.Z,{label:"Delete",icon:(0,p.jsx)(B.Z,{}),onClick:()=>r((0,u.GK)(a))})]})]})})},R=()=>{const e=(0,o.I0)(),n=(0,o.v9)(q.M7);(0,y.useEffect)((()=>{n&&e((0,u.yF)())}),[e,n]);const{items:t,isLoading:a,error:r}=(0,o.v9)(h),s=(0,o.v9)(j),l=s?t.filter((e=>e.name.toLowerCase().includes(s.toLowerCase()))):t,c=(0,_.Z)("(max-width:426px)");return(0,p.jsxs)(p.Fragment,{children:[a&&(0,p.jsx)(k.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(k.ZP,{item:!0,children:(0,p.jsx)(P.Z,{electronPathWidth:0,electronsPerPath:10})})}),t&&!a&&(0,p.jsx)(w.Z,{children:l.map(((e,n)=>(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(S.ZP,{sx:{display:"flex",columnGap:20,rowGap:c?2:0,justifyContent:c?"center":"space-between",flexWrap:"wrap"},children:(0,p.jsx)(K,{contact:e})}),n!==l.length-1&&(0,p.jsx)(I.Z,{})]},e.id)))}),r&&(0,p.jsx)("b",{children:r})]})},V=()=>{const[e,n]=(0,y.useState)(!1);(0,y.useEffect)((()=>{const e=setTimeout((()=>{n(!0)}),1e3);return()=>clearTimeout(e)}),[]);const t=(0,a.q_)({opacity:e?1:0,transform:e?"translateY(0)":"translateY(50px)",from:{opacity:0,transform:"translateY(50px)"}});return(0,p.jsx)(r.Z,{component:"main",sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,p.jsxs)(s.Z,{sx:{p:4,maxWidth:1024},children:[(0,p.jsx)("h1",{style:{textAlign:"center"},children:"\ud83d\udcda Phonebook \ud83d\udcde"}),(0,p.jsx)(f,{}),(0,p.jsx)("h2",{children:"Contacts"}),(0,p.jsx)(g,{}),(0,p.jsxs)(a.q.div,{style:t,children:[(0,p.jsx)(R,{})," "]})]})})}}}]);
//# sourceMappingURL=821.14d911ad.chunk.js.map