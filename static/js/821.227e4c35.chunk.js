"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[821],{7821:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t=r(9164),a=r(7621),c=r(6727),i=r(5705),s=r(9434),o=r(4554),l=r(8004),u=r(4294),m=r(3634),d=function(e){return e.contacts},h=function(e){return e.contacts.items},x=function(e){return e.filter},f=r(4227),j=r(184),Z=c.Ry({name:c.Z_("Enter contact name").required("Name is required").max(16,"Max 16 characters for the name").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([ ' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name contains invalid characters"),number:c.Z_("Enter contact number").required("Contact number is required").max(20,"Max 20 characters for the number").matches(/\+?\d{1,4}?[ .\-\s]?\(?\d{1,3}?\)?[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,9}/,"Invalid phone number format.")}),b=function(){var e=(0,s.I0)(),n=(0,s.v9)(h),r=(0,i.TA)({initialValues:{name:"",number:""},validationSchema:Z,onSubmit:function(t){var a=n.find((function(e){return e.name===t.name})),c=n.some((function(e){return e.number===t.number}));if(a||c){var i="".concat(t.name," is already in contacts");(0,f.Z)("error",i)}else{e((0,m.uK)(t));var s="Contact ".concat(t.name," successfully created!");(0,f.Z)("success",s)}r.resetForm()}});return(0,j.jsxs)(o.Z,{component:"form",onSubmit:r.handleSubmit,children:[(0,j.jsx)(l.Z,{required:!0,fullWidth:!0,autoComplete:"name",id:"name",name:"name",label:"Contact Name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.name&&Boolean(r.errors.name),helperText:r.touched.name&&r.errors.name,sx:{mb:2}}),(0,j.jsx)(l.Z,{required:!0,fullWidth:!0,autoComplete:"number",id:"number",name:"number",label:"Phone Number",value:r.values.number,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.number&&Boolean(r.errors.number),helperText:r.touched.number&&r.errors.number,sx:{mb:2}}),(0,j.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})},p=r(8029),v=r(1634),C=function(){var e=(0,s.I0)();return(0,j.jsx)(p.Z,{fullWidth:!0,type:"text",name:"filter",placeholder:"Search by name",onChange:function(n){var r=n.target.value;e((0,v.yC)(r))}})},g=r(2791),y=r(5193),k=r(1889),w=r(493),_=r(4852),S=r(4721),I=r(5136),P=r(4289),N=r(1413),q=r(9439),F=r(653),W=r(3044),B=r(9900),T=r(533),A=r(1918),M=r(7247),E=r(1286),G=r(1398),z=r(5671),L=r(3144),D=r(136),K=r(7277),R=r(4164),V="Modal_backdrop__xTnIT",$="Modal_content__gGb69",H=document.querySelector("#modal-root"),J=function(e){(0,D.Z)(r,e);var n=(0,K.Z)(r);function r(){return(0,z.Z)(this,r),n.apply(this,arguments)}return(0,L.Z)(r,[{key:"render",value:function(){return(0,R.createPortal)((0,j.jsx)("div",{className:V,children:(0,j.jsx)("div",{className:$,children:this.props.children})}),H)}}]),r}(g.Component),O=function(e){var n=e.contact,r=n.name,t=n.number,a=n.id,c=(0,s.I0)(),i=(0,g.useState)(!1),d=(0,q.Z)(i,2),h=d[0],x=d[1],f=(0,g.useState)(r),Z=(0,q.Z)(f,2),b=Z[0],p=Z[1],v=(0,g.useState)(t),C=(0,q.Z)(v,2),y=C[0],k=C[1],w=(0,g.useState)(!1),_=(0,q.Z)(w,2),S=_[0],I=_[1];return(0,j.jsx)(j.Fragment,{children:h?(0,j.jsx)(j.Fragment,{children:!S&&(0,j.jsx)(J,{children:(0,j.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:[(0,j.jsx)(l.Z,{label:"Name",value:b,onChange:function(e){return p(e.target.value)}}),(0,j.jsx)(l.Z,{label:"Number",value:y,onChange:function(e){return k(e.target.value)}}),(0,j.jsx)(u.Z,{variant:"outlined",onClick:function(){return x(!1)},children:"Close"}),(0,j.jsx)(u.Z,{variant:"contained",onClick:function(){c((0,m.mP)({id:a,name:b,number:y})),x(!1),I((function(e){return!e}))},children:"Save"})]})})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(o.Z,{sx:{display:"flex",alignItems:"space-between"},children:[(0,j.jsx)(F.Z,{children:(0,j.jsx)(W.Z,(0,N.Z)({},(0,G.Z)(r)))}),(0,j.jsx)(B.Z,{children:r})]}),(0,j.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,j.jsx)(T.Z,{href:"tel:".concat(t),children:t}),(0,j.jsx)(A.Z,{label:"Edit",icon:(0,j.jsx)(E.Z,{}),onClick:function(){return x(!0)}}),(0,j.jsx)(A.Z,{label:"Delete",icon:(0,j.jsx)(M.Z,{}),onClick:function(){return c((0,m.GK)(a))}})]})]})})},Q=function(){var e=(0,s.I0)(),n=(0,s.v9)(P.M7);(0,g.useEffect)((function(){n&&e((0,m.yF)())}),[e,n]);var r=(0,s.v9)(d),t=r.items,a=r.isLoading,c=r.error,i=(0,s.v9)(x),o=i?t.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})):t,l=(0,y.Z)("(max-width:426px)");return(0,j.jsxs)(j.Fragment,{children:[a&&(0,j.jsx)(k.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:(0,j.jsx)(k.ZP,{item:!0,children:(0,j.jsx)(I.Z,{electronPathWidth:0,electronsPerPath:10})})}),t&&!a&&(0,j.jsx)(w.Z,{children:o.map((function(e,n){return(0,j.jsxs)(g.Fragment,{children:[(0,j.jsx)(_.ZP,{sx:{display:"flex",columnGap:20,rowGap:l?2:0,justifyContent:l?"center":"space-between",flexWrap:"wrap"},children:(0,j.jsx)(O,{contact:e})}),n!==o.length-1&&(0,j.jsx)(S.Z,{})]},e.id)}))}),c&&(0,j.jsx)("b",{children:c})]})},U=function(){return(0,j.jsx)(t.Z,{component:"main",sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,j.jsxs)(a.Z,{sx:{p:4,maxWidth:1024},children:[(0,j.jsx)("h1",{children:"\ud83d\udcda Phonebook \ud83d\udcde"}),(0,j.jsx)(b,{}),(0,j.jsx)("h2",{children:"Contacts"}),(0,j.jsx)(C,{}),(0,j.jsx)(Q,{})]})})}}}]);
//# sourceMappingURL=821.227e4c35.chunk.js.map